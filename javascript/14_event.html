<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트</title>
</head>

<body>
    <h3>이벤트 설정하기</h3>
    이벤트 발생 상황 <br>
    마우스에 의한 이벤트 <br>
    키보드에 의한 이벤트 <br>
    input태그에 설정 이벤트 <br>
    윈도우(창)에 설정하는 이벤트 <br>
    마우스이벤트 속성 <br>
    click : <br>
    dbclick(더블클릭) : <br>
    mouseenter : <br>
    mouseleave : <br>
    키보드 이벤트 속성 <br>
    keyup : <br>
    keydown : <br>
    keypress : <br>
    input 태그 이벤트 속성 <br>
    focus : <br>
    blur : <br>
    change : value 속성이 변경됐을 때 => 주로 select <br>
    submit : <br>
    reset : <br>
    window(창) 이벤트 속성 <br>
    load : <br>
    resize : <br>
    scroll :

    <h3>이벤트 설정</h3>
    <p>
        1. 태그의 이벤트 속성에 핸들러를 대입하기 <br>
        2. 표준방식 addEventListener()함수를 이용 => addEventListener("이벤트 속성", 이벤트 핸들러 => { } ) <br>
        3. on이벤트 속성명에 javascript 코드 작성 <br>
    </p>
    <div id="container">
        <ul>
            <li>
                <h2>이벤트 속성 적용</h2>
            </li>
            <li>
                <h2>표준방식</h2>
            </li>
            <li onclick="alert('인라인 방식')">
                <h2>인라인 방식</h2>
            </li>
        </ul>
    </div>
    <script>
        const lists = document.querySelectorAll("#container li");
        lists[0].onclick = (e) => {
            console.log(e);
            alert('속성으로 설정');
        }
        lists[1].addEventListener("click", e => {
            alert("표준 방식으로 적용");
        })
    </script>
    <hr>
    <h3>이벤트 객체</h3>
    <p>
        이벤트가 발생하면 이벤트 핸들러에 인수로 전달되는 객체 <br>
        이벤트 속성별로 생성되는 객체가 다름 <br>
        이벤트 객체의 target 속성, currentTarget 속성 -> 이벤트가 발생한 태그를 저장하는 속성 <br>
        key 이벤트에서 키보드에서 입력된 값을 확인 -> key, code ... 속성 <br>
        preventDefault() : 기본이벤트를 차단할 때 사용 <br>
        stopPropagation() : 버블링 차단 <br>
    </p>
    <div id="event-obj">
        <button id="btn">버튼</button>
        <input type="text" id="keyTarget">
        <select id="choice">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>
    </div>
    <script>
        document.getElementById("btn").addEventListener("click", e => {
            console.log(e);
        })
        document.getElementById("keyTarget").addEventListener("keyup", e => {
            console.log(e);
            if (e.key == 'Enter') {
                alert("엔터니?");
            }
        })
        document.getElementById("choice").addEventListener("change", e => {
            console.log(e);
        })
    </script>
    <input type="password" id="pw"><br>
    <input type="password" id="pwck"><br>
    <span id="result"></span>
    <script>
        // document.getElementById("pwck").addEventListener("keyup", e => {
        document.getElementById("pwck").addEventListener("blur", e => { // blur 사용할 때 alert() 사용 자재
            // if (e.target.value.length >= 4) { // input#pwck 길이가 4 이상일 때 동작
            let msg = '비밀번호가 일치하지 않습니다';
            const pwValue = document.getElementById("pw").value;
            if (pwValue == e.target.value) {
                msg = '비밀번호가 일치합니다';
            }
            document.getElementById("result").innerText = msg;
            // }
        })
        window.onscroll = e => {
            // console.log(e);
        }
    </script>
    <h3>기본이벤트 차단</h3>
    <a id="linkTest" href="https://naver.com">네이버</a>
    <form action="https://search.naver.com/search.naver" onsubmit="return stopmove(event)">
        <input type="text" name="query">
        <input type="submit" value="조회">
    </form>
    <script>
        const stopmove = (e) => {
            console.log(e);
            return false;
        }
        document.querySelector("#linkTest").addEventListener("click", e => {
            console.log("가지마");
            e.preventDefault();
        })
    </script>
    <div id="container3" class="test1">
        parent
        <div class="test1">
            child
            <div class="test1">
                inner child
            </div>
        </div>
    </div>

    <style>
        div#container3 {
            width: 400px;
            height: 300px;
            border: 1px solid magenta;
        }

        .test1 {
            padding: 20px;
            border: 1px dotted lime;
        }
    </style>
    <script>
        document.querySelectorAll(".test1").forEach(e => {
            e.addEventListener("click", e => {
                e.stopPropagation();
                const content = e.currentTarget.innerText;
                console.log(content);
            })
        })
    </script>
    <h3>브라우저에서 영속성 있는 데이터를 저장하기</h3>
    <p>
        LocalStorage, SessionStorage를 제공<br>
        LocalStorage : 브라우저를 종료해도 데이터를 유지<br>
        SessionStorage : 브라우저를 종료하면 데이터를 삭제<br>
    </p>
    <p>
        key:value형식으로 저장
    </p>
    <script>
        sessionStorage.setItem("id", "admin");
        localStorage.setItem("email", "hswhsw5053@gmail.com");
        sessionStorage.setItem("data", JSON.stringify([{ name: "하승우", age: 19 }, { name: "오수환", age: 24 }]));
    </script>
    <a href="00_test.html">이동</a>
</body>

</html>