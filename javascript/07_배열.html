<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열</title>
</head>

<body>
    <h2>배열 활용하기</h2>
    <script>
        // 배열 생성하기
        // 1. 리터럴로 생성하기
        let array = [];

        // 2. 객체로 생성하기
        arary = new Array();

        console.log(typeof array);
        console.log(Array.isArray(array));

        // 배열의 길이를 확인하기
        // length 속성에 접근
        console.log(array.length);

        // 배열 선언과 동시에 초기화
        array = [1, 2, 3, 4, 5];
        console.log(array);
        console.log(array.length);
        array = new Array(1, 2, 3, 4);
        console.log(array);

        // 배열에 다양한 타입의 값을 저장할 수 있다
        array = [1, true, 180.3, "이름", null, () => { alert("우와"); }, { "data": 1000 }, ["가", "나", "다"]];
        console.log(array);

        // 저장된 값에 접근하기
        // index로 접근
        console.log(array[0]);
        // array[5](); // 5번 인덱스의 값이 함수이기 때문에 호출 가능
        console.log(array[6].data); // 객체의 값에 접근
        console.log(array[7][0]); // 배열 안에 배열 => 2차원 배열

        // 반복문으로 순회
        for (let i = 0; i < array.length; i++) {
            console.log(array[i]);
            if (typeof array[i] == 'function') { // i번째 index 값의 배열이 함수면 함수 호출
                // array[i]();
            }
        }

        // for of 구문을 이용해서 순회하기
        for (const v of array) {
            console.log(v);
        }

        // 배열 인덱스 범위를 초과해서 접근하기
        console.log(array.length);
        console.log(array[8]); // undefined
        array[10] = "햄부기";
        console.log(array); // 중간에 빈 값은 empty
    </script>
    <h3>Array 객체가 제공하는 함수 이용</h3>
    <h4>push() : list.add() 동일, 배열의 마지막 인덱스에 값을 추가하는 함수</h4>
    <script>
        const food = [];
        food.push("햄부기");
        console.log(food);
        food.push("라면");
        food.push("밥버거");
        console.log(food);
    </script>
    <h4>pop() : 배열 데이터를 삭제하는 함수 -> 마지막 인덱스를 잘라내고 반환</h4>
    <script>
        console.log(food);
        let result = food.pop(); // 삭제한 값을 result에 저장
        food.pop();
        console.log(food);
        console.log(result);
    </script>
    <h4>unshift() : 배열의 첫번째 인덱스에 값을 추가</h4>
    <script>
        console.log(food);
        food.unshift("라면");
        food.unshift("치킨");
        console.log(food);
    </script>
    <h4>shift() : 배열의 첫번째 인덱스 값을 삭제</h4>
    <script>
        result = food.shift();
        console.log(result);
        console.log(food);
    </script>
    <h4>slice(시작 인덱스[,끝 인덱스]) : 배열의 일부 인덱스를 복사해서 새로운 배열을 반환 -> 배열 복사할 때 사용 시작 인덱스 포함, 끝 인덱스 전까지</h4>
    <script>
        const snack = ["홈런볼", "나쵸", "도리토스", "빼빼로", "콘칩"];
        result = snack.slice(3);
        console.log(result);
        console.log(snack);
        result = snack.slice(1, 3);
        console.log(result);
    </script>
    <h4>splice(시작 인덱스[, 삭제할 개수, 추가할 데이터, ..].) : 삭제, 추가를 한 번에 가능</h4>
    <script>
        console.log(snack);
        snack.splice(4);
        console.log(snack);
        snack.splice(2, 2, "사또밥", "맛동산", "빠다코코넛");
        console.log(snack);
    </script>
    <!-- 입력태그에 입력값을 추가버튼을 누르면 배열에 입력값을 추가하고, 삭제버튼을 누르면 배열에 있는 마지막 값을 삭제, 배열의 내용은 div#arr태그에 출력 -->
    <div>
        <input type="text" id="inputValue">
        <!-- <button onclick="funcs[0]()">추가</button> -->
        <button onclick="addValue()">추가</button>
        <!-- <button onclick="funcs[1]()">삭제</button> -->
        <button onclick="deleteValue()">삭제</button>
    </div>
    <div id="arr"></div>
    <script>
        const funcs = (() => {
            const dataArray = [];
            const addValue = () => {
                let value = document.getElementById("inputValue").value;
                dataArray.push(value);
                printArray();
            };
            const deleteValue = () => {
                dataArray.pop();
                printArray();
            };
            const printArray = () => {
                const $div = document.getElementById("arr");
                $div.innerHTML = "";
                for (const d of dataArray) {
                    $div.innerHTML += "<h4>" + d + "</h4>";
                }
            };
            return [addValue, deleteValue];
        })();
        const [addValue, deleteValue] = [...funcs];
    </script>
    <h3>배열에 있는 요소를 조회하는 함수</h3>
    <h4>indexOf("찾을값"[, 찾을 위치 지정 인덱스]) : 배열에 있는 데이터의 인덱스 번호를 찾을때, 없으면 -1 반환</h4>
    <script>
        console.log(snack);
        result = snack.indexOf("나쵸");
        console.log(result);
        result = snack.indexOf("강원준");
        console.log(result == -1 && "없음");
        snack.push("나쵸");
        console.log(snack);
        result = snack.indexOf("나쵸", 3);
        console.log(result);
    </script>
    <h4>concat() : 두 배열을 합쳐서 새 배열을 생성</h4>
    <script>
        console.log(food);
        console.log(snack);
        const total = food.concat(snack);
        console.log(total);
    </script>
    <h4>join() : 배열을 특정 구분자를 기준으로 문자열로 만들어주는 함수</h4>
    <script>
        result = snack.join(",");
        console.log(result);
    </script>
    <h4>reverse() : 배열의 순서를 뒤집어주는 함수</h4>
    <script>
        console.log(snack);
        snack.reverse();
        console.log(snack);
    </script>
    <h4>includes() : 배열의 특정값이 있는지 확인해주는 함수</h4>
    <script>
        result = snack.includes("나쵸");
        console.log(result ? "있다" : "없다");
        result = snack.includes("고래밥");
        console.log(result ? "있다" : "없다");
        // array 안에 value 가 없으면 array 안에 value 추가
        // if (!array.includes(value)) {
        //     array.push(value);
        // }
    </script>
    <h4>find((value, index, originalArray)=>{ return boolean; }) : <br>
        배열에 저장된 데이터 중 find 함수의 매개변수로 전달된 함수의 return 값이 true인 첫번째 값을 반환해주는 함수</h4>
    <script>
        function myFind(array, flagFunc) {
            for (let i = 0; i < array.length; i++) {
                if (flagFunc(array[i], i, array)) {
                    return array[i];
                }
            }
        }
        console.log(snack);
        // result = snack.find(e => e.length == 2);
        result = snack.find((e, i, ori) => {
            // console.log(e, i, ori);
            return e.length > 5;
        });

        result = myFind(snack, (e, i, ori) => {
            // console.log(e, i, ori);
            return e.length >= 5;
        });
        console.log(result);
    </script>

    <h4>filter((value)=>{ return array; }) : 매개변수로 전달된 함수의 return 값이 true인 요소들의 배열을 반환하는 함수 <br>
        -> 필요한 값만으로 새로운 배열을 만들 때 사용</h4>
    <script>
        const fruit = ["사과", "자몽", "유자", "귤", "바나나", "딸기", "망고스틴", "오렌지", "배", "샤인머스켓"];
        console.log(fruit);
        result = fruit.filter(e => e.length == 2); // 새로운 배열로 반환
        console.log(result);
    </script>
    <h4>forEach() : 배열을 전체순회할 때 사용하는 함수</h4>
    <script>
        fruit.forEach(e => {
            console.log(e);
        });
    </script>

    <script>
        const animal = ["고양이", "개", "하마", "코끼리", "바다사자", "곰", "흰수염고래", "여우", "고릴라", "늑대"];
    </script>
    <button onclick="selectAll()">전체 조회하기</button>
    <button onclick="selectLength()">4글자 이상인 동물조회</button>
    <div id="animal-container">
        <ul>
        </ul>
    </div>
    <script>
        const selectAll = () => {
            animal.forEach(e => {
                document.querySelector("#animal-container>ul").innerHTML += "<li>" + e + "</li>";
            })
        }
    </script>
</body>

</html>