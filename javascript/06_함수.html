<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수</title>
</head>

<body>
    <h2>선언적 함수 이용하기</h2>
    <script>
        basicFunc(); // 호이스팅 가능
        function basicFunc() {
            console.log("우와 내가 선언한 첫 함수");
        }
        // 함수 호출하기
        // basicFunc();

        // 매개변수가 있는 함수 선언
        // function paramFunc2(let name){} <- 하면안됨
        function paramFunc(name, age, gender) {
            // console.log(name, age, gender);
            console.log(name.substring(1) + " " + (age - 2) + ' ' + gender);
        }
        paramFunc("하승우", 24, "남자");
        // paramFunc(1, 2, 3);
    </script>
    <h3>매개변수에 기본값 대입하기</h3>
    <script>
        function paramFunc2(name = "아무개", age = 10, hobby = []) {
            // 전달된 매개변수를 모두 관리하는 객체 : arguments
            console.log(arguments);
            for (let i = 0; i < arguments.length; i++) {
                console.log(arguments[i]);
            }
            console.log(name + " " + age);
            hobby.forEach((e, i) => {
                console.log(i + " " + e);
            })
            // console.log(name, age, hobby);
        }
        // 매개변수의 인수를 다 전달하지 않아도 호출이 가능
        paramFunc2("하승우", 24);
        // 매개변수의 인수를 더 많이 전달해도 호출이 가능
        paramFunc2("하승우", 24, ["운동", "게임"], 1, 2, 3, 4, 5);
    </script>
    <h3>중복선언이 가능함</h3>
    <script>
        basicFunc("test");
        // function basicFunc(title) {
        //     console.log(title);
        // }
        const basicFunc = function (title) {
            console.log(title);
        } // 위에서 선언해놨기 때문에 오류 발생
    </script>
    <div id="container">
        <div id="input-container">
            <input type="text">
            <input type="text">
            <input type="text">
            <button onclick="saveData()">저장</button>
        </div>
        <table></table>
    </div>
    <script>
        function saveData() {
            let result = "<tr>";
            document.querySelectorAll("#input-container>input").forEach(e => {
                result += addTd(e.value);
            });
            result += "</tr>";
            document.querySelector("#container>table").innerHTML += result; // 누적, 덮어쓰기 하려면 innerTHML = result 로 변경
        }
        function addTd(value) {
            return "<td>" + value + "</td>";
        }
    </script>
    <h3>익명함수 이용하기</h3>
    <script>
        // annoFunc(); // 호이스팅은 되는데 아직 함수가 아니라서 오류
        // functino(){}
        // 변수(매개변수)에 저장 or 자동실행
        var annoFunc = function () {
            console.log("익명함수");
        };
        annoFunc();
        var annoFunc = function () {
            console.log("재정의");
        }
        annoFunc();

        // const annoFunc = function () {
        //     console.log("안돼");
        // }

        const annoParam = function (title, content) {
            console.log(title, content);
            console.log(arguments);
        }
        annoParam("크리스마스", "나혼자...ㅠ 케빈과 함께");

        const calc = function (su = 0, su2 = 0) {
            return su + su2;
        }
        console.log(calc(2));
    </script>

    <h3>매개변수로 함수 전달 하기</h3>
    <p>
        이벤트핸들러, js에서 제공하는 내장함수를 이용할 떄
    </p>
    <script>
        function paramFunc3(title, fnTest) {
            console.log(title);
            if (typeof fnTest == 'function')
                fnTest();
            else
                throw new Error("두번째 매개변수는 함수만 가능합니다");
        }
        paramFunc3("매개변수로 함수전달", function () { console.log("우와 신기하다") });
        paramFunc3("test", "test2");
    </script>

</body>

</html>